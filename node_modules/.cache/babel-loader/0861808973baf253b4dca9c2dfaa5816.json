{"ast":null,"code":"var _jsxFileName = \"/home/pinkyy/zebi/dirabk/spotyhi/src/Playlists/Playlists.js\",\n    _s = $RefreshSig$();\n\n// get the user playlists and show them on a list with export button\n// export button export the playlist to a json file\n// this function won't have a search bar\n// it simply shows the user's playlists\nimport React, { useState, useEffect } from 'react';\nimport './Playlists.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Playlists = () => {\n  _s();\n\n  const [playlists, setPlaylists] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n\n    if (token) {\n      axios.get('https://api.spotify.com/v1/me/playlists', {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(response => {\n        setPlaylists(response.data.items);\n        setLoading(false);\n      }).catch(error => {\n        setError(error);\n        setLoading(false);\n      });\n    }\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (!playlists && !token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Not logged in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Playlists\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Playlists-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Playlists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Playlists-list\",\n      children: playlists.map(playlist => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Playlists-list-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Playlists-list-item-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: playlist.images[0].url,\n            alt: \"Playlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Playlists-list-item-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Playlists-list-item-name\",\n            children: playlist.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Playlists-list-item-tracks\",\n            children: [playlist.tracks.total, \" tracks\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Playlists-list-item-export\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Export\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, playlist.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Playlists, \"SA2AOzH5C36IUcyaLIEPV+RRUeE=\");\n\n_c = Playlists;\nexport default Playlists;\n\nvar _c;\n\n$RefreshReg$(_c, \"Playlists\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","Playlists","playlists","setPlaylists","loading","setLoading","error","setError","token","localStorage","getItem","get","headers","then","response","data","items","catch","message","map","playlist","images","url","name","tracks","total","id"],"sources":["/home/pinkyy/zebi/dirabk/spotyhi/src/Playlists/Playlists.js"],"sourcesContent":["// get the user playlists and show them on a list with export button\n// export button export the playlist to a json file\n// this function won't have a search bar\n// it simply shows the user's playlists\n\nimport React, { useState, useEffect } from 'react';\nimport './Playlists.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\nconst Playlists = () => {\n\n    const [playlists, setPlaylists] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        const token = localStorage.getItem('access_token');\n        if (token) {\n            axios.get('https://api.spotify.com/v1/me/playlists', {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            })\n            .then(response => {\n                setPlaylists(response.data.items);\n                setLoading(false);\n            })\n            .catch(error => {\n                setError(error);\n                setLoading(false);\n            });\n        }\n    }\n    , [])\n\n    if (loading) {\n        return <div>Loading...</div>\n    }\n\n    if (error) {\n        return <div>Error: {error.message}</div>\n    }\n\n    if (!playlists && !token) {\n        return <div>Not logged in</div>\n    }\n\n    return (\n        <div className='Playlists'>\n            <div className='Playlists-header'>\n                <h1>Playlists</h1>\n            </div>\n            <div className='Playlists-list'>\n                {playlists.map(playlist => (\n                    <div className='Playlists-list-item' key={playlist.id}>\n                        <div className='Playlists-list-item-image'>\n                            <img src={playlist.images[0].url} alt='Playlist' />\n                        </div>\n                        <div className='Playlists-list-item-info'>\n                            <div className='Playlists-list-item-name'>{playlist.name}</div>\n                            <div className='Playlists-list-item-tracks'>{playlist.tracks.total} tracks</div>\n                        </div>\n                        <div className='Playlists-list-item-export'>\n                            <button>Export</button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Playlists;"],"mappings":";;;AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,iBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EAEpB,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACZ,MAAMU,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;;IACA,IAAIF,KAAJ,EAAW;MACPR,KAAK,CAACW,GAAN,CAAU,yCAAV,EAAqD;QACjDC,OAAO,EAAE;UACL,iBAAiB,YAAYJ;QADxB;MADwC,CAArD,EAKCK,IALD,CAKMC,QAAQ,IAAI;QACdX,YAAY,CAACW,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAZ;QACAX,UAAU,CAAC,KAAD,CAAV;MACH,CARD,EASCY,KATD,CASOX,KAAK,IAAI;QACZC,QAAQ,CAACD,KAAD,CAAR;QACAD,UAAU,CAAC,KAAD,CAAV;MACH,CAZD;IAaH;EACJ,CAjBQ,EAkBP,EAlBO,CAAT;;EAoBA,IAAID,OAAJ,EAAa;IACT,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,IAAIE,KAAJ,EAAW;IACP,oBAAO;MAAA,sBAAaA,KAAK,CAACY,OAAnB;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,IAAI,CAAChB,SAAD,IAAc,CAACM,KAAnB,EAA0B;IACtB,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,wBACI;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAK,SAAS,EAAC,gBAAf;MAAA,UACKN,SAAS,CAACiB,GAAV,CAAcC,QAAQ,iBACnB;QAAK,SAAS,EAAC,qBAAf;QAAA,wBACI;UAAK,SAAS,EAAC,2BAAf;UAAA,uBACI;YAAK,GAAG,EAAEA,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmBC,GAA7B;YAAkC,GAAG,EAAC;UAAtC;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAII;UAAK,SAAS,EAAC,0BAAf;UAAA,wBACI;YAAK,SAAS,EAAC,0BAAf;YAAA,UAA2CF,QAAQ,CAACG;UAApD;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAK,SAAS,EAAC,4BAAf;YAAA,WAA6CH,QAAQ,CAACI,MAAT,CAAgBC,KAA7D;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAJJ,eAQI;UAAK,SAAS,EAAC,4BAAf;UAAA,uBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QARJ;MAAA,GAA0CL,QAAQ,CAACM,EAAnD;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH,CA7DD;;GAAMzB,S;;KAAAA,S;AA+DN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}