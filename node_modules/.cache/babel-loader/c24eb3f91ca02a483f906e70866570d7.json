{"ast":null,"code":"var _jsxFileName = \"/home/pinkyy/zebi/dirabk/spotyhi/src/Navbar/Navbar.js\",\n    _s = $RefreshSig$();\n\n// Search bar, Quiries the spotify api to find the song, album, artist, playlist, and user\n// has a dropdown menu to select one of the result\nimport React from 'react';\nimport './Navbar.css';\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useRef } from 'react';\nimport { useCallback } from 'react';\nimport { useMemo } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Navbar = () => {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const token = localStorage.getItem('access_token');\n  const searchRef = useRef(null);\n  const handleSubmit = useCallback(event => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n    setResults([]);\n    axios.get(`https://api.spotify.com/v1/search?q=${search}&type=track,artist,album,playlist,user`, {\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => {\n      setResults(response.data.tracks.items);\n      setLoading(false);\n    }).catch(error => {\n      setError(error);\n      setLoading(false);\n    });\n  }, [search, token]);\n  useEffect(() => {\n    if (searchRef.current) {\n      searchRef.current.focus();\n    }\n  }, [searchRef]);\n  const handleChange = useCallback(event => {\n    setSearch(event.target.value);\n  }, [setSearch]);\n  const handleKeyPress = useCallback(event => {\n    if (event.key === 'Enter') {\n      handleSubmit(event);\n    }\n  }, [handleSubmit]);\n  const handleClick = useCallback(item => {\n    setSearch(item.name);\n    setResults([]);\n  }, [setSearch, setResults]);\n  const resultsList = useMemo(() => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 24\n      }, this);\n    }\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 24\n      }, this);\n    }\n\n    if (results.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No results found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 24\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"Navbar-results\",\n      children: results.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleClick(item),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.album.images.length ? item.album.images[0].url : defaultImage,\n          alt: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Navbar-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Navbar-results-name\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Navbar-results-type\",\n            children: item.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this);\n  }, [loading, error, results, handleClick]);\n};\n\n_s(Navbar, \"kkSsjNjApEfQWDWmg3s3rCK6z3M=\");\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","Link","useState","useEffect","useRef","useCallback","useMemo","axios","Navbar","search","setSearch","results","setResults","loading","setLoading","error","setError","token","localStorage","getItem","searchRef","handleSubmit","event","preventDefault","get","headers","then","response","data","tracks","items","catch","current","focus","handleChange","target","value","handleKeyPress","key","handleClick","item","name","resultsList","message","length","map","album","images","url","defaultImage","type","id"],"sources":["/home/pinkyy/zebi/dirabk/spotyhi/src/Navbar/Navbar.js"],"sourcesContent":["// Search bar, Quiries the spotify api to find the song, album, artist, playlist, and user\n// has a dropdown menu to select one of the result\n\nimport React from 'react';\nimport './Navbar.css';\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useRef } from 'react';\nimport { useCallback } from 'react';\nimport { useMemo } from 'react';\nimport axios from 'axios';\n\nconst Navbar = () => {\n\n    const [search, setSearch] = useState('');\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const token = localStorage.getItem('access_token');\n    const searchRef = useRef(null);\n\n    const handleSubmit = useCallback(\n        (event) => {\n            event.preventDefault();\n            setLoading(true);\n            setError(null);\n            setResults([]);\n            axios.get(`https://api.spotify.com/v1/search?q=${search}&type=track,artist,album,playlist,user`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            })\n                .then(response => {\n                    setResults(response.data.tracks.items);\n                    setLoading(false);\n                })\n                .catch(error => {\n                    setError(error);\n                    setLoading(false);\n                });\n        },\n        [search, token]\n    );\n\n    useEffect(() => {\n        if (searchRef.current) {\n            searchRef.current.focus();\n        }\n    }, [searchRef]);\n\n    const handleChange = useCallback(\n        (event) => {\n            setSearch(event.target.value);\n        },\n        [setSearch]\n    );\n\n    const handleKeyPress = useCallback(\n        (event) => {\n            if (event.key === 'Enter') {\n                handleSubmit(event);\n            }\n        },\n        [handleSubmit]\n    );\n\n    const handleClick = useCallback(\n        (item) => {\n            setSearch(item.name);\n            setResults([]);\n        },\n        [setSearch, setResults]\n    );\n\n    const resultsList = useMemo(\n        () => {\n            if (loading) {\n                return <div>Loading...</div>;\n            }\n            if (error) {\n                return <div>Error: {error.message}</div>;\n            }\n            if (results.length === 0) {\n                return <div>No results found</div>;\n            }\n            return (\n                <ul className=\"Navbar-results\">\n                    {results.map(item => (\n                        <li key={item.id} onClick={() => handleClick(item)}>\n                            <img src={item.album.images.length ? item.album.images[0].url : defaultImage} alt={item.name} />\n                            <div className=\"Navbar-results-info\">\n                                <div className=\"Navbar-results-name\">{item.name}</div>\n                                <div className=\"Navbar-results-type\">{item.type}</div>\n                            </div>\n                        </li>\n                    ))}\n                </ul>\n            );\n        },\n        [loading, error, results, handleClick]\n    );\n}\n\nexport default Navbar"],"mappings":"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"},"metadata":{},"sourceType":"module"}